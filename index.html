<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ComplyAI Test</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .gradient-bg {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 70%, #064e3b 100%);
        }

        /* Enhanced animations and effects */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes glow {
            0%, 100% { box-shadow: 0 0 20px rgba(16, 185, 129, 0.3); }
            50% { box-shadow: 0 0 30px rgba(16, 185, 129, 0.6); }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounceIn {
            0% {
                opacity: 0;
                transform: scale(0.3);
            }
            50% {
                opacity: 1;
                transform: scale(1.05);
            }
            70% {
                transform: scale(0.9);
            }
            100% {
                opacity: 1;
                transform: scale(1);
            }
        }

        .animate-float {
            animation: float 6s ease-in-out infinite;
        }

        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        .animate-glow {
            animation: glow 2s ease-in-out infinite;
        }

        .animate-slide-up {
            animation: slideInUp 0.8s ease-out;
        }

        .animate-bounce-in {
            animation: bounceIn 0.6s ease-out;
        }

        .pricing-card {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .pricing-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .hero-title {
            background: linear-gradient(135deg, #10b981, #3b82f6, #8b5cf6);
            background-size: 300% 300%;
            animation: gradient-shift 4s ease infinite;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const ComplyAI = () => {
            const [currentView, setCurrentView] = useState('landing');
            const [currentLanguage, setCurrentLanguage] = useState('eng');
            const [uploadedDocuments, setUploadedDocuments] = useState([]);
            const [analysisResults, setAnalysisResults] = useState([]);
            const [selectedAnalysis, setSelectedAnalysis] = useState(null);
            const [notifications, setNotifications] = useState([]);
            const [showAuditorPanel, setShowAuditorPanel] = useState(false);
            const [auditorCriteria, setAuditorCriteria] = useState([]);
            const [newCriterion, setNewCriterion] = useState({ name: '', description: '', standard: 'UZ', priority: 'medium' });
            const [showMobileMenu, setShowMobileMenu] = useState(false);

            // Multi-language translations
            const translations = {
                eng: {
                    title: "ComplyAI",
                    subtitle: "AI-powered compliance management system for IT Park",
                    features: "Features",
                    dashboard: "Dashboard",
                    contact: "Contact",
                    financialAnalysis: "AI Financial Analysis",
                    financialAnalysisDesc: "Upload business/financial reports and get detailed AI-powered accounting analysis and auditing",
                    businessTrips: "Business Trip Reports",
                    businessTripsDesc: "Download form, fill with expenses, upload back to IT Park system",
                    choosePlan: "Choose Your Plan",
                    choosePlanDesc: "Select the perfect plan for your business needs",
                    smallBusiness: "Small Business",
                    mediumBusiness: "Medium Business",
                    largeBusiness: "Large Business",
                    startNow: "Start Now",
                    tryDashboard: "Try Dashboard",
                    startFreeTrial: "Start Free Trial",
                    watchDemo: "Watch Demo",
                    powerfulFeatures: "Powerful Features",
                    featuresDesc: "Everything you need for seamless compliance management"
                },
                uz: {
                    title: "ComplyAI",
                    subtitle: "IT Park uchun AI-ga asoslangan muvofiqlik boshqaruv tizimi",
                    features: "Xususiyatlar",
                    dashboard: "Boshqaruv paneli",
                    contact: "Aloqa",
                    financialAnalysis: "AI Moliyaviy Tahlil",
                    financialAnalysisDesc: "Biznes/moliyaviy hisobotlarni yuklang va batafsil AI asosidagi buxgalteriya tahlili va auditini oling",
                    businessTrips: "Biznes Safari Hisobotlari",
                    businessTripsDesc: "Formani yuklab oling, xarajatlar bilan to'ldiring, IT Park tizimiga qaytaring",
                    choosePlan: "Rejangizni Tanlang",
                    choosePlanDesc: "Biznesingiz uchun mukammal rejani tanlang",
                    smallBusiness: "Kichik Biznes",
                    mediumBusiness: "O'rta Biznes",
                    largeBusiness: "Yirik Biznes",
                    startNow: "Boshlash",
                    tryDashboard: "Dashboardni sinab ko'ring",
                    startFreeTrial: "Bepul sinovni boshlang",
                    watchDemo: "Demoni ko'ring",
                    powerfulFeatures: "Kuchli Xususiyatlar",
                    featuresDesc: "Muammosiz muvofiqlik boshqaruvi uchun kerak bo'lgan hamma narsa"
                },
                ru: {
                    title: "ComplyAI",
                    subtitle: "–ò–ò-—Å–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º –¥–ª—è IT-–ø–∞—Ä–∫–∞",
                    features: "–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
                    dashboard: "–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è",
                    contact: "–ö–æ–Ω—Ç–∞–∫—Ç—ã",
                    financialAnalysis: "–ò–ò –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π –ê–Ω–∞–ª–∏–∑",
                    financialAnalysisDesc: "–ó–∞–≥—Ä—É–∂–∞–π—Ç–µ –±–∏–∑–Ω–µ—Å/—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –æ—Ç—á–µ—Ç—ã –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–π –±—É—Ö–≥–∞–ª—Ç–µ—Ä—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏ –∞—É–¥–∏—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –ò–ò",
                    businessTrips: "–û—Ç—á–µ—Ç—ã –æ –ö–æ–º–∞–Ω–¥–∏—Ä–æ–≤–∫–∞—Ö",
                    businessTripsDesc: "–°–∫–∞—á–∞–π—Ç–µ —Ñ–æ—Ä–º—É, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å—Ö–æ–¥–∞–º–∏, –∑–∞–≥—Ä—É–∑–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ –≤ —Å–∏—Å—Ç–µ–º—É IT-–ø–∞—Ä–∫–∞",
                    choosePlan: "–í—ã–±–µ—Ä–∏—Ç–µ –ü–ª–∞–Ω",
                    choosePlanDesc: "–í—ã–±–µ—Ä–∏—Ç–µ –∏–¥–µ–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω –¥–ª—è –≤–∞—à–µ–≥–æ –±–∏–∑–Ω–µ—Å–∞",
                    smallBusiness: "–ú–∞–ª—ã–π –ë–∏–∑–Ω–µ—Å",
                    mediumBusiness: "–°—Ä–µ–¥–Ω–∏–π –ë–∏–∑–Ω–µ—Å",
                    largeBusiness: "–ö—Ä—É–ø–Ω—ã–π –ë–∏–∑–Ω–µ—Å",
                    startNow: "–ù–∞—á–∞—Ç—å",
                    tryDashboard: "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å",
                    startFreeTrial: "–ù–∞—á–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥",
                    watchDemo: "–°–º–æ—Ç—Ä–µ—Ç—å –¥–µ–º–æ",
                    powerfulFeatures: "–ú–æ—â–Ω—ã–µ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏",
                    featuresDesc: "–í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ –¥–ª—è –±–µ—Å–ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ–º"
                }
            };

            const t = translations[currentLanguage];

            // Notification system
            const addNotification = (type, message) => {
                const notification = {
                    id: Date.now(),
                    type,
                    message,
                    timestamp: new Date().toISOString()
                };
                setNotifications([notification, ...notifications.slice(0, 4)]);

                setTimeout(() => {
                    setNotifications(prev => prev.filter(n => n.id !== notification.id));
                }, 4000);
            };

            // File upload functions
            const handleFileUpload = (event) => {
                const files = Array.from(event.target.files);
                const newDocuments = files.map((file, index) => ({
                    id: uploadedDocuments.length + index + 1,
                    name: file.name,
                    type: getDocumentType(file.name),
                    uploadDate: new Date().toISOString().split('T')[0],
                    status: 'Uploading...',
                    size: formatFileSize(file.size),
                    file: file
                }));

                setUploadedDocuments([...newDocuments, ...uploadedDocuments]);

                // Simulate upload and analysis
                newDocuments.forEach((doc, index) => {
                    setTimeout(() => {
                        setUploadedDocuments(prev => prev.map(d =>
                            d.id === doc.id ? { ...d, status: 'Analyzing...' } : d
                        ));

                        setTimeout(() => {
                            setUploadedDocuments(prev => prev.map(d =>
                                d.id === doc.id ? { ...d, status: auditorCriteria.length > 0 ? 'Enhanced Analysis Complete' : 'Analyzed' } : d
                            ));
                            if (auditorCriteria.length > 0) {
                                runEnhancedAnalysis(doc);
                            } else {
                                generateAIAnalysis(doc);
                                addNotification('success', `AI analysis completed for ${doc.name}`);
                            }
                        }, 3000);
                    }, 1000 + index * 500);
                });
            };

            const getDocumentType = (filename) => {
                const ext = filename.split('.').pop().toLowerCase();
                switch(ext) {
                    case 'pdf': return 'PDF Document';
                    case 'xlsx': case 'xls': return 'Excel Spreadsheet';
                    case 'csv': return 'CSV File';
                    default: return 'Document';
                }
            };

            const formatFileSize = (bytes) => {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            };

            const generateAIAnalysis = (document) => {
                const analysisTypes = ['Financial Audit (UZ Standards)', 'Compliance Audit (IT Park)', 'Risk Assessment (UZ)', 'Tax Audit (Uzbekistan)', 'Internal Audit (UZ Standards)'];
                const auditFindings = [
                    { type: 'success', message: 'Revenue recognition complies with Uzbekistan National Accounting Standards (UzNAS)', severity: 'low', auditArea: 'Revenue Audit (UZ)' },
                    { type: 'warning', message: 'Travel expenses require additional documentation per UZ audit standards', severity: 'medium', auditArea: 'Expense Audit (UZ)' },
                    { type: 'error', message: 'Transaction documentation missing required UZ tax authority stamps', severity: 'high', auditArea: 'UZ Tax Compliance' },
                    { type: 'success', message: 'Cash flow reporting meets Central Bank of Uzbekistan requirements', severity: 'low', auditArea: 'UZ Banking Standards' },
                    { type: 'warning', message: 'VAT calculations need review per Uzbekistan Tax Code', severity: 'medium', auditArea: 'UZ Tax Audit' },
                    { type: 'success', message: 'Internal controls align with Uzbekistan Corporate Governance Code', severity: 'low', auditArea: 'UZ Governance Audit' },
                    { type: 'error', message: 'Foreign currency transactions lack required NBU approval documentation', severity: 'high', auditArea: 'UZ Currency Control' },
                    { type: 'warning', message: 'Asset valuation methods require alignment with UZ Ministry of Finance guidelines', severity: 'medium', auditArea: 'UZ Asset Standards' },
                    { type: 'success', message: 'IT Park resident company benefits properly documented and applied', severity: 'low', auditArea: 'IT Park Compliance' },
                    { type: 'warning', message: 'Employee benefit calculations need review per UZ Labor Code', severity: 'medium', auditArea: 'UZ Labor Compliance' }
                ];

                const newAnalysis = {
                    id: analysisResults.length + 1,
                    documentName: document.name,
                    analysisType: analysisTypes[Math.floor(Math.random() * analysisTypes.length)],
                    score: Math.floor(Math.random() * 20) + 80,
                    findings: auditFindings.slice(0, Math.floor(Math.random() * 4) + 3),
                    recommendations: [
                        'Implement automated expense tracking system for better audit trail',
                        'Review quarterly budget allocations to optimize cash flow',
                        'Enhance invoice approval workflow to reduce processing time',
                        'Update financial reporting templates for IT Park compliance',
                        'Strengthen internal controls for transaction processing',
                        'Implement regular audit procedures for expense validation',
                        'Establish proper documentation standards for all transactions'
                    ].slice(0, Math.floor(Math.random() * 3) + 3),
                    auditAreas: [
                        { area: 'Revenue Recognition', status: 'Compliant', issues: 0 },
                        { area: 'Expense Management', status: 'Minor Issues', issues: 2 },
                        { area: 'Cash Flow Controls', status: 'Compliant', issues: 0 },
                        { area: 'Documentation', status: 'Needs Improvement', issues: 3 },
                        { area: 'Internal Controls', status: 'Satisfactory', issues: 1 }
                    ],
                    complianceIssues: [
                        'Financial reporting: Fully compliant with IT Park standards',
                        'Tax documentation: Minor formatting issues identified',
                        'E-signature compliance: Requires E-Imzo integration',
                        'Audit trail: Documentation gaps in expense approvals'
                    ],
                    financialMetrics: {
                        revenueGrowth: (Math.random() * 20 - 5).toFixed(1),
                        expenseRatio: (Math.random() * 30 + 50).toFixed(1),
                        profitMargin: (Math.random() * 40 + 10).toFixed(1),
                        cashFlow: Math.random() > 0.3 ? 'Positive' : 'Negative'
                    },
                    auditScore: Math.floor(Math.random() * 15) + 85,
                    riskLevel: Math.random() > 0.7 ? 'Low' : Math.random() > 0.4 ? 'Medium' : 'High',
                    processingTime: `${Math.floor(Math.random() * 5) + 1}.${Math.floor(Math.random() * 9)}s`,
                    lastUpdated: new Date().toISOString().split('T')[0]
                };

                setAnalysisResults([newAnalysis, ...analysisResults]);
            };

            const clearPreviousFiles = () => {
                setUploadedDocuments([]);
                setAnalysisResults([]);
                setSelectedAnalysis(null);
                const fileInput = document.getElementById('fileUpload');
                if (fileInput) fileInput.value = '';
                addNotification('info', 'All files and analysis results cleared');
            };

            const viewAnalysis = (analysis) => {
                setSelectedAnalysis(analysis);
                setCurrentView('detailedAnalysis');
            };

            const viewFullAnalysis = (analysis) => {
                setSelectedAnalysis(analysis);
                setCurrentView('fullAnalysis');
            };

            // Business Trip Functions
            // Functional button handlers
            const startFreeTrial = () => {
                addNotification('success', 'Welcome to ComplyAI Free Trial! Redirecting to dashboard...');
                setTimeout(() => {
                    setCurrentView('analysis');
                }, 1500);
            };

            const watchDemo = () => {
                addNotification('info', 'Starting ComplyAI Demo Tour...');
                setTimeout(() => {
                    setCurrentView('dashboard');
                    setTimeout(() => {
                        addNotification('info', 'Demo: This is your main dashboard with all services');
                    }, 1000);
                }, 1000);
            };

            // Auditor Panel Functions
            const addAuditorCriterion = () => {
                if (!newCriterion.name || !newCriterion.description) {
                    addNotification('error', 'Please fill in both criterion name and description');
                    return;
                }

                const criterion = {
                    id: auditorCriteria.length + 1,
                    name: newCriterion.name,
                    description: newCriterion.description,
                    standard: newCriterion.standard,
                    priority: newCriterion.priority,
                    dateAdded: new Date().toISOString().split('T')[0],
                    status: 'active'
                };

                setAuditorCriteria([...auditorCriteria, criterion]);
                setNewCriterion({ name: '', description: '', standard: 'UZ', priority: 'medium' });
                addNotification('success', `Auditor criterion "${criterion.name}" added successfully for ${criterion.standard} standards`);
            };

            const removeAuditorCriterion = (id) => {
                setAuditorCriteria(auditorCriteria.filter(c => c.id !== id));
                addNotification('info', 'Auditor criterion removed');
            };

            const runEnhancedAnalysis = (document) => {
                if (auditorCriteria.length === 0) {
                    generateAIAnalysis(document);
                    return;
                }

                // Enhanced analysis with custom auditor criteria
                const customFindings = auditorCriteria.map(criterion => ({
                    type: Math.random() > 0.7 ? 'success' : Math.random() > 0.4 ? 'warning' : 'error',
                    message: `${criterion.name}: ${getRandomAnalysisResult(criterion)}`,
                    severity: criterion.priority,
                    auditArea: `Custom ${criterion.standard} Standards`,
                    criterionId: criterion.id
                }));

                const enhancedAnalysis = {
                    id: analysisResults.length + 1,
                    documentName: document.name,
                    analysisType: `Enhanced AI Analysis with Custom ${auditorCriteria[0]?.standard || 'UZ'} Criteria`,
                    score: Math.floor(Math.random() * 15) + 85,
                    findings: [...customFindings, ...auditFindings.slice(0, 3)],
                    recommendations: [
                        'Address custom auditor criteria findings',
                        'Implement automated compliance monitoring for UZ standards',
                        'Review documentation procedures per Uzbekistan audit requirements',
                        'Enhance internal controls for IT Park compliance'
                    ],
                    customCriteriaUsed: auditorCriteria.length,
                    auditAreas: [
                        { area: 'Custom UZ Standards', status: 'Enhanced Review', issues: customFindings.filter(f => f.type === 'error').length },
                        { area: 'UZ Tax Compliance', status: 'Compliant', issues: 0 },
                        { area: 'IT Park Requirements', status: 'Satisfactory', issues: 1 }
                    ],
                    complianceIssues: [
                        'Uzbekistan National Accounting Standards: Compliant with custom criteria',
                        'IT Park regulations: Fully compliant',
                        'UZ Tax Code: Minor documentation improvements needed'
                    ],
                    financialMetrics: {
                        revenueGrowth: (Math.random() * 20 - 5).toFixed(1),
                        expenseRatio: (Math.random() * 30 + 50).toFixed(1),
                        profitMargin: (Math.random() * 40 + 10).toFixed(1),
                        cashFlow: Math.random() > 0.3 ? 'Positive' : 'Negative'
                    },
                    auditScore: Math.floor(Math.random() * 10) + 90,
                    riskLevel: Math.random() > 0.8 ? 'Low' : Math.random() > 0.5 ? 'Medium' : 'High',
                    processingTime: `${Math.floor(Math.random() * 3) + 2}.${Math.floor(Math.random() * 9)}s`,
                    lastUpdated: new Date().toISOString().split('T')[0]
                };

                setAnalysisResults([enhancedAnalysis, ...analysisResults]);
                addNotification('success', `Enhanced analysis completed using ${auditorCriteria.length} custom UZ audit criteria`);
            };

            const getRandomAnalysisResult = (criterion) => {
                const results = [
                    `Compliant with ${criterion.standard} standards and specified requirements`,
                    `Minor deviations detected, review recommended per ${criterion.standard} guidelines`,
                    `Excellent compliance, exceeds ${criterion.standard} audit expectations`,
                    `Documentation gaps identified, requires ${criterion.standard} standard alignment`
                ];
                return results[Math.floor(Math.random() * results.length)];
            };

            // Download Analysis Report Function
            const downloadAnalysisReport = (analysis) => {
                const reportContent = `
COMPLYAI - AI FINANCIAL ANALYSIS REPORT
=======================================

Document: ${analysis.documentName}
Analysis Type: ${analysis.analysisType}
Generated: ${analysis.lastUpdated}
Processing Time: ${analysis.processingTime}

EXECUTIVE SUMMARY
================
Compliance Score: ${analysis.score}%
Audit Score: ${analysis.auditScore || analysis.score}%
Risk Level: ${analysis.riskLevel}
${analysis.customCriteriaUsed ? `Custom Criteria Used: ${analysis.customCriteriaUsed}` : ''}

FINANCIAL METRICS
================
Revenue Growth: ${analysis.financialMetrics.revenueGrowth}%
Expense Ratio: ${analysis.financialMetrics.expenseRatio}%
Profit Margin: ${analysis.financialMetrics.profitMargin}%
Cash Flow: ${analysis.financialMetrics.cashFlow}

AUDIT FINDINGS
=============
${analysis.findings.map((finding, index) => `
${index + 1}. ${finding.auditArea || 'General Audit'}
   Status: ${finding.type.toUpperCase()}
   Message: ${finding.message}
   Severity: ${finding.severity}
   ${finding.criterionId ? 'Source: Custom Auditor Criterion' : 'Source: AI Analysis'}
`).join('')}

AUDIT AREAS REVIEW
==================
${analysis.auditAreas ? analysis.auditAreas.map(area => `
- ${area.area}: ${area.status} (${area.issues} issues found)
`).join('') : 'Standard audit areas reviewed'}

COMPLIANCE STATUS
================
${analysis.complianceIssues.map((issue, index) => `
${index + 1}. ${issue}
`).join('')}

RECOMMENDATIONS
==============
${analysis.recommendations.map((rec, index) => `
${index + 1}. ${rec}
`).join('')}

UZBEKISTAN STANDARDS COMPLIANCE
==============================
‚úì UzNAS (Uzbekistan National Accounting Standards): Reviewed
‚úì UZ Tax Code Compliance: Verified
‚úì Central Bank of Uzbekistan Requirements: Checked
‚úì IT Park Resident Benefits: Confirmed
‚úì NBU Currency Control: Assessed

---
Report generated by ComplyAI - AI-Powered Compliance System
For IT Park resident companies
¬© 2024 ComplyAI. All rights reserved.

This report is generated using artificial intelligence and should be reviewed by qualified professionals.
                `;

                const blob = new Blob([reportContent], { type: 'text/plain;charset=utf-8' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = url;
                a.download = `ComplyAI_Analysis_Report_${analysis.documentName.replace(/\.[^/.]+$/, "")}_${analysis.lastUpdated}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);

                addNotification('success', `Analysis report for "${analysis.documentName}" downloaded successfully`);
            };

            const downloadOfficialForm = () => {
                // Create a sample business trip form for demo
                const formContent = `
IT PARK BUSINESS TRIP EXPENSE REPORT FORM

Employee Information:
- Name: ________________________
- Department: ___________________
- Employee ID: __________________

Trip Details:
- Destination: ___________________
- Purpose: ______________________
- Start Date: ___________________
- End Date: _____________________

Expenses:
1. Transportation: _______________
2. Accommodation: _______________
3. Meals: _______________________
4. Other: _______________________

Total Amount: ___________________

Employee Signature: _____________
Date: __________________________

Manager Approval: _______________
Date: __________________________

Note: Please fill all required fields and attach receipts.
Submit to IT Park compliance department within 7 days.
                `;

                const blob = new Blob([formContent], { type: 'text/plain' });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.style.display = 'none';
                a.href = url;
                a.download = 'IT_Park_Business_Trip_Form.txt';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);

                addNotification('success', 'Official IT Park business trip form downloaded successfully');
            };

            // Notification Component
            const NotificationSystem = () => (
                <div className="fixed top-4 right-4 z-50 space-y-2">
                    {notifications.map(notification => (
                        <div
                            key={notification.id}
                            className={`p-4 rounded-lg shadow-lg max-w-sm transition-all duration-300 ${
                                notification.type === 'success' ? 'bg-green-500/90 text-white' :
                                notification.type === 'error' ? 'bg-red-500/90 text-white' :
                                notification.type === 'warning' ? 'bg-yellow-500/90 text-black' :
                                'bg-blue-500/90 text-white'
                            }`}
                        >
                            <div className="flex items-center gap-2">
                                <span className="text-lg">
                                    {notification.type === 'success' ? '‚úÖ' :
                                     notification.type === 'error' ? '‚ùå' :
                                     notification.type === 'warning' ? '‚ö†Ô∏è' : '‚ÑπÔ∏è'}
                                </span>
                                <p className="text-sm font-medium">{notification.message}</p>
                            </div>
                        </div>
                    ))}
                </div>
            );

            if (currentView === 'landing') {
                return (
                    <div className="min-h-screen gradient-bg text-white">
                        <NotificationSystem />
                        <header className="container mx-auto px-6 py-8">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-2 sm:gap-3">
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0 sm:w-10 sm:h-10">
                                    <defs>
                                        <linearGradient id="logoGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradient)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl sm:text-2xl font-bold text-emerald-400">
                                    {t.title}
                                </div>
                            </div>
                            <div className="flex space-x-2 sm:space-x-4 lg:space-x-6 items-center">
                                <a href="#features" className="hidden sm:block hover:text-emerald-400 transition-colors text-sm lg:text-base">{t.features}</a>
                                <button onClick={() => setCurrentView('dashboard')} className="hidden sm:block hover:text-emerald-400 transition-colors text-sm lg:text-base">{t.dashboard}</button>
                                <a href="#contact" className="hidden sm:block hover:text-emerald-400 transition-colors text-sm lg:text-base">{t.contact}</a>

                                {/* Mobile Menu Button */}
                                <button className="sm:hidden p-2 rounded-lg hover:bg-slate-700" onClick={() => setShowMobileMenu(!showMobileMenu)}>
                                    <svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20">
                                        <path fillRule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clipRule="evenodd" />
                                    </svg>
                                </button>

                                {/* Language Selector */}
                                <div className="relative">
                                    <select
                                        value={currentLanguage}
                                        onChange={(e) => setCurrentLanguage(e.target.value)}
                                        className="bg-slate-700 border border-slate-600 rounded-lg px-2 py-1 sm:px-3 sm:py-1 text-white text-xs sm:text-sm focus:outline-none focus:border-emerald-500"
                                    >
                                        <option value="eng">üá∫üá∏ EN</option>
                                        <option value="uz">üá∫üáø UZ</option>
                                        <option value="ru">üá∑üá∫ RU</option>
                                    </select>
                                </div>
                            </div>
                        </nav>

                        {/* Mobile Menu */}
                        {showMobileMenu && (
                            <div className="sm:hidden mt-4 bg-slate-800/90 rounded-lg p-4 animate-slide-up">
                                <div className="flex flex-col space-y-3">
                                    <a href="#features" className="hover:text-emerald-400 transition-colors py-2" onClick={() => setShowMobileMenu(false)}>{t.features}</a>
                                    <button onClick={() => {setCurrentView('dashboard'); setShowMobileMenu(false);}} className="hover:text-emerald-400 transition-colors py-2 text-left">{t.dashboard}</button>
                                    <a href="#contact" className="hover:text-emerald-400 transition-colors py-2" onClick={() => setShowMobileMenu(false)}>{t.contact}</a>
                                </div>
                            </div>
                        )}
                    </header>

                    <section className="container mx-auto px-4 sm:px-6 py-12 sm:py-16 lg:py-20 text-center relative overflow-hidden">
                        {/* Animated background elements */}
                        <div className="absolute inset-0 overflow-hidden pointer-events-none">
                            <div className="absolute top-20 left-10 w-20 h-20 bg-emerald-500/10 rounded-full animate-float"></div>
                            <div className="absolute top-40 right-20 w-16 h-16 bg-blue-500/10 rounded-full animate-float" style={{animationDelay: '2s'}}></div>
                            <div className="absolute bottom-20 left-1/4 w-12 h-12 bg-purple-500/10 rounded-full animate-float" style={{animationDelay: '4s'}}></div>
                        </div>

                        <div className="relative z-10">
                            <div className="animate-slide-up">
                                <h1 className="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold mb-6">
                                    <span className="hero-title block mb-2">{t.title}</span>
                                    <div className="flex justify-center items-center gap-4 mt-4">
                                        <div className="h-1 w-20 bg-gradient-to-r from-emerald-400 to-blue-500 rounded animate-pulse-slow"></div>
                                        <span className="text-2xl animate-bounce-in">üöÄ</span>
                                        <div className="h-1 w-20 bg-gradient-to-r from-blue-500 to-purple-500 rounded animate-pulse-slow"></div>
                                    </div>
                                </h1>
                            </div>

                            <div className="animate-slide-up" style={{animationDelay: '0.3s'}}>
                                <p className="text-lg sm:text-xl md:text-2xl text-gray-300 mb-8 max-w-4xl mx-auto leading-relaxed">
                                    <span className="bg-gradient-to-r from-emerald-400 to-blue-500 bg-clip-text text-transparent font-semibold">
                                        {t.subtitle}
                                    </span>
                                </p>
                            </div>

                            <div className="animate-slide-up flex flex-col sm:flex-row gap-4 justify-center items-center" style={{animationDelay: '0.6s'}}>
                                <button
                                    onClick={startFreeTrial}
                                    className="bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 animate-glow shadow-lg"
                                >
                                    <span className="flex items-center gap-2">
                                        üéØ {t.startFreeTrial}
                                    </span>
                                </button>
                                <button
                                    onClick={watchDemo}
                                    className="border-2 border-emerald-500 hover:bg-emerald-500 px-8 py-4 rounded-xl text-lg font-semibold transition-all duration-300 transform hover:scale-105 backdrop-blur-sm"
                                >
                                    <span className="flex items-center gap-2">
                                        üé¨ {t.watchDemo}
                                    </span>
                                </button>
                            </div>

                            {/* Trust indicators */}
                            <div className="mt-12 animate-slide-up" style={{animationDelay: '0.9s'}}>
                                <p className="text-sm text-gray-400 mb-4">Trusted by IT Park</p>
                                <div className="flex justify-center items-center gap-8 opacity-60">
                                    <div className="flex items-center gap-2">
                                        <span className="text-emerald-400">‚úì</span>
                                        <span className="text-sm">AI-Powered</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="text-emerald-400">‚úì</span>
                                        <span className="text-sm">IT Park Compliant</span>
                                    </div>
                                    <div className="flex items-center gap-2">
                                        <span className="text-emerald-400">‚úì</span>
                                        <span className="text-sm">Secure</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section id="features" className="container mx-auto px-4 sm:px-6 py-12 sm:py-16 lg:py-20">
                        <div className="text-center mb-12 sm:mb-16">
                            <h2 className="text-3xl sm:text-4xl font-bold mb-4">{t.powerfulFeatures}</h2>
                            <p className="text-lg sm:text-xl text-gray-300">{t.featuresDesc}</p>
                        </div>

                        <div className="grid md:grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 max-w-4xl mx-auto">
                            <div
                                onClick={() => setCurrentView('analysis')}
                                className="bg-slate-800/50 p-12 rounded-xl border border-slate-700 hover:border-emerald-500 transition-all duration-300 cursor-pointer transform hover:scale-105"
                            >
                                <div className="text-6xl mb-6 text-center">üìä</div>
                                <h3 className="text-2xl font-semibold mb-4 text-emerald-400 text-center">{t.financialAnalysis}</h3>
                                <p className="text-gray-300 mb-6 text-center">{t.financialAnalysisDesc}</p>
                                <div className="text-center">
                                    <button className="bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-lg font-semibold">
                                        {t.startNow} ‚Üí
                                    </button>
                                </div>
                            </div>

                            <div
                                onClick={() => setCurrentView('trips')}
                                className="bg-slate-800/50 p-12 rounded-xl border border-slate-700 hover:border-blue-500 transition-all duration-300 cursor-pointer transform hover:scale-105"
                            >
                                <div className="text-6xl mb-6 text-center">‚úàÔ∏è</div>
                                <h3 className="text-2xl font-semibold mb-4 text-blue-400 text-center">{t.businessTrips}</h3>
                                <p className="text-gray-300 mb-6 text-center">{t.businessTripsDesc}</p>
                                <div className="text-center">
                                    <button className="bg-blue-500 hover:bg-blue-600 px-8 py-3 rounded-lg font-semibold">
                                        {t.startNow} ‚Üí
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section className="container mx-auto px-4 sm:px-6 py-12 sm:py-16 lg:py-20">
                        <div className="text-center mb-12 sm:mb-16">
                            <h2 className="text-3xl sm:text-4xl font-bold mb-4">üíé {t.choosePlan}</h2>
                            <p className="text-lg sm:text-xl text-gray-300">{t.choosePlanDesc}</p>
                        </div>

                        <div className="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 max-w-6xl mx-auto">
                            {/* Small Business Plan */}
                            <div className="pricing-card p-6 sm:p-8 rounded-2xl border bg-slate-800/30 border-slate-700 text-center relative overflow-hidden animate-slide-up">
                                <div className="absolute inset-0 bg-gradient-to-br from-blue-500/5 to-transparent"></div>
                                <div className="relative z-10">
                                    <div className="text-4xl mb-4 animate-bounce-in">üíº</div>
                                    <h4 className="text-2xl font-bold mb-4 text-blue-400">{t.smallBusiness}</h4>
                                    <div className="mb-6">
                                        <div className="text-5xl font-bold text-blue-400 mb-2">$19</div>
                                        <div className="text-gray-400">/month</div>
                                        <div className="text-sm text-emerald-400 font-semibold">Save 60% vs Enterprise</div>
                                    </div>
                                    <ul className="text-left space-y-3 text-gray-300 mb-8">
                                        <li className="flex items-center gap-2">
                                            <span className="text-blue-400">‚úÖ</span>
                                            <span>Basic AI Analysis</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-blue-400">‚úÖ</span>
                                            <span>Trip Report Processing</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-blue-400">‚úÖ</span>
                                            <span>Up to 50 documents/month</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-blue-400">‚úÖ</span>
                                            <span>Email Support</span>
                                        </li>
                                    </ul>
                                    <button
                                        onClick={() => addNotification('success', 'Small Business plan selected! Contact us to get started.')}
                                        className="w-full py-4 px-6 rounded-xl font-bold bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white transition-all duration-300 transform hover:scale-105 shadow-lg"
                                    >
                                        Choose Small Business
                                    </button>
                                </div>
                            </div>

                            {/* Medium Business Plan - Most Popular */}
                            <div className="pricing-card p-6 sm:p-8 rounded-2xl border bg-emerald-500/10 border-emerald-500 text-center relative overflow-hidden animate-slide-up transform sm:scale-105" style={{animationDelay: '0.2s'}}>
                                <div className="absolute inset-0 bg-gradient-to-br from-emerald-500/10 to-transparent"></div>
                                <div className="absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white px-6 py-3 rounded-full text-sm font-bold shadow-lg z-20 border-2 border-white">
                                    <span className="flex items-center gap-1">
                                        üî• <span className="text-white font-extrabold">Most Popular</span>
                                    </span>
                                </div>
                                <div className="relative z-10">
                                    <div className="text-4xl mb-4 animate-bounce-in" style={{animationDelay: '0.3s'}}>üöÄ</div>
                                    <h4 className="text-2xl font-bold mb-4 text-emerald-400">{t.mediumBusiness}</h4>
                                    <div className="mb-6">
                                        <div className="text-5xl font-bold text-emerald-400 mb-2">$49</div>
                                        <div className="text-gray-400">/month</div>
                                        <div className="text-sm text-yellow-400 font-semibold">‚≠ê Best Value</div>
                                    </div>
                                    <ul className="text-left space-y-3 text-gray-300 mb-8">
                                        <li className="flex items-center gap-2">
                                            <span className="text-emerald-400">‚úÖ</span>
                                            <span>Advanced AI Analysis</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-emerald-400">‚úÖ</span>
                                            <span>Unlimited Documents</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-emerald-400">‚úÖ</span>
                                            <span>E-Signature Integration</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-emerald-400">‚úÖ</span>
                                            <span>Priority Support</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-emerald-400">‚úÖ</span>
                                            <span>Audit Analysis</span>
                                        </li>
                                    </ul>
                                    <button
                                        onClick={() => addNotification('success', 'Medium Business plan selected! Most popular choice. Contact us to get started.')}
                                        className="w-full py-4 px-6 rounded-xl font-bold bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white transition-all duration-300 transform hover:scale-105 shadow-xl animate-glow"
                                    >
                                        Choose Medium Business
                                    </button>
                                </div>
                            </div>

                            {/* Large Business Plan */}
                            <div className="pricing-card p-6 sm:p-8 rounded-2xl border bg-slate-800/30 border-slate-700 text-center relative overflow-hidden animate-slide-up" style={{animationDelay: '0.4s'}}>
                                <div className="absolute inset-0 bg-gradient-to-br from-purple-500/5 to-transparent"></div>
                                <div className="relative z-10">
                                    <div className="text-4xl mb-4 animate-bounce-in" style={{animationDelay: '0.5s'}}>üè¢</div>
                                    <h4 className="text-2xl font-bold mb-4 text-purple-400">{t.largeBusiness}</h4>
                                    <div className="mb-6">
                                        <div className="text-5xl font-bold text-purple-400 mb-2">$99</div>
                                        <div className="text-gray-400">/month</div>
                                        <div className="text-sm text-purple-400 font-semibold">Enterprise Grade</div>
                                    </div>
                                    <ul className="text-left space-y-3 text-gray-300 mb-8">
                                        <li className="flex items-center gap-2">
                                            <span className="text-purple-400">‚úÖ</span>
                                            <span>Enterprise AI Features</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-purple-400">‚úÖ</span>
                                            <span>Full API Access</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-purple-400">‚úÖ</span>
                                            <span>White-label Solution</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-purple-400">‚úÖ</span>
                                            <span>Dedicated Support</span>
                                        </li>
                                        <li className="flex items-center gap-2">
                                            <span className="text-purple-400">‚úÖ</span>
                                            <span>Custom Integration</span>
                                        </li>
                                    </ul>
                                    <button
                                        onClick={() => addNotification('success', 'Large Business plan selected! Enterprise solution. Contact us to get started.')}
                                        className="w-full py-4 px-6 rounded-xl font-bold bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white transition-all duration-300 transform hover:scale-105 shadow-lg"
                                    >
                                        Choose Large Business
                                    </button>
                                </div>
                            </div>
                        </div>
                    </section>

                    <footer id="contact" className="container mx-auto px-6 py-12 border-t border-slate-700">
                        <div className="text-center text-gray-400">
                            <p>&copy; 2024 ComplyAI. Made with ‚ù§Ô∏è for IT Park resident companies.</p>
                        </div>
                    </footer>
                </div>
            );
        }

        // AI Financial Analysis Page
        if (currentView === 'analysis') {
            return (
                <div className="min-h-screen gradient-bg text-white">
                    <NotificationSystem />

                    <header className="container mx-auto px-6 py-4 border-b border-slate-700">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('landing')}>
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0">
                                    <defs>
                                        <linearGradient id="logoGradient2" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradient2)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl font-bold text-emerald-400">ComplyAI</div>
                            </div>
                            <button onClick={() => setCurrentView('landing')} className="px-4 py-2 rounded hover:bg-slate-700">‚Üê Back to Home</button>
                        </nav>
                    </header>

                    <div className="container mx-auto px-4 sm:px-6 py-6 sm:py-8">
                        <h1 className="text-3xl sm:text-4xl font-bold mb-6 sm:mb-8 text-center">üìä AI Financial Analysis</h1>

                        <div className="text-center mb-6 sm:mb-8">
                            <p className="text-lg sm:text-xl text-gray-300 mb-6 sm:mb-8">Upload your financial documents for AI-powered analysis</p>

                            <div className="flex flex-col sm:flex-row justify-center gap-4">
                                <input
                                    type="file"
                                    id="fileUpload"
                                    multiple
                                    accept=".pdf,.xlsx,.xls,.csv"
                                    onChange={handleFileUpload}
                                    className="hidden"
                                />
                                <label
                                    htmlFor="fileUpload"
                                    className="bg-emerald-500 hover:bg-emerald-600 px-6 py-3 rounded-lg cursor-pointer flex items-center gap-3 text-lg font-semibold justify-center"
                                >
                                    üìÅ Upload Financial Documents
                                </label>
                                <button
                                    onClick={() => setShowAuditorPanel(!showAuditorPanel)}
                                    className="bg-blue-500 hover:bg-blue-600 px-6 py-3 rounded-lg transition-colors flex items-center gap-2 font-semibold justify-center"
                                >
                                    üë®‚Äçüíº Auditor Panel {auditorCriteria.length > 0 && `(${auditorCriteria.length})`}
                                </button>
                                {(uploadedDocuments.length > 0 || analysisResults.length > 0) && (
                                    <button
                                        onClick={clearPreviousFiles}
                                        className="bg-red-500 hover:bg-red-600 px-6 py-3 rounded-lg transition-colors flex items-center gap-2 font-semibold justify-center"
                                    >
                                        üóëÔ∏è Clear All Files
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* Auditor Panel */}
                        {showAuditorPanel && (
                            <div className="mb-8 bg-slate-800/50 p-6 rounded-xl border border-blue-500/30 animate-slide-up">
                                <h3 className="text-2xl font-semibold mb-6 text-blue-400 flex items-center gap-2">
                                    üë®‚Äçüíº Auditor Custom Criteria Panel
                                    <span className="text-sm bg-blue-500/20 px-2 py-1 rounded">Uzbekistan Standards Enhanced</span>
                                </h3>

                                <div className="bg-slate-700/30 p-4 rounded-lg mb-6">
                                    <h4 className="font-semibold mb-4">Add Custom Audit Criterion</h4>
                                    <div className="grid md:grid-cols-4 gap-4 mb-4">
                                        <input
                                            type="text"
                                            placeholder="Criterion Name (e.g., UZ Revenue Recognition)"
                                            value={newCriterion.name}
                                            onChange={(e) => setNewCriterion({...newCriterion, name: e.target.value})}
                                            className="bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500"
                                        />
                                        <select
                                            value={newCriterion.standard}
                                            onChange={(e) => setNewCriterion({...newCriterion, standard: e.target.value})}
                                            className="bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500"
                                        >
                                            <option value="UZ">üá∫üáø UZ Standards</option>
                                            <option value="IFRS">üåç IFRS</option>
                                            <option value="IT_PARK">üè¢ IT Park</option>
                                            <option value="CUSTOM">‚öôÔ∏è Custom</option>
                                        </select>
                                        <select
                                            value={newCriterion.priority}
                                            onChange={(e) => setNewCriterion({...newCriterion, priority: e.target.value})}
                                            className="bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white focus:outline-none focus:border-blue-500"
                                        >
                                            <option value="low">Low Priority</option>
                                            <option value="medium">Medium Priority</option>
                                            <option value="high">High Priority</option>
                                            <option value="critical">Critical</option>
                                        </select>
                                        <button
                                            onClick={addAuditorCriterion}
                                            className="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-lg font-semibold transition-colors"
                                        >
                                            Add Criterion
                                        </button>
                                    </div>
                                    <textarea
                                        placeholder="Detailed description of audit criterion (e.g., Check compliance with UZ National Accounting Standards for revenue recognition)"
                                        value={newCriterion.description}
                                        onChange={(e) => setNewCriterion({...newCriterion, description: e.target.value})}
                                        className="w-full bg-slate-600 border border-slate-500 rounded-lg px-3 py-2 text-white placeholder-gray-400 focus:outline-none focus:border-blue-500 h-20 resize-none"
                                    />
                                </div>

                                {/* Current Criteria */}
                                {auditorCriteria.length > 0 ? (
                                    <div>
                                        <h4 className="font-semibold mb-4">Active Auditor Criteria ({auditorCriteria.length})</h4>
                                        <div className="space-y-3 max-h-60 overflow-y-auto">
                                            {auditorCriteria.map(criterion => (
                                                <div key={criterion.id} className="bg-slate-700/50 p-4 rounded-lg border border-slate-600">
                                                    <div className="flex justify-between items-start mb-2">
                                                        <div className="flex-1">
                                                            <h5 className="font-semibold text-blue-400">{criterion.name}</h5>
                                                            <p className="text-xs text-gray-400 mt-1">Standard: {criterion.standard} ‚Ä¢ Priority: {criterion.priority}</p>
                                                        </div>
                                                        <div className="flex items-center gap-2">
                                                            <span className={`px-2 py-1 rounded text-xs ${
                                                                criterion.priority === 'critical' ? 'bg-red-500/20 text-red-400' :
                                                                criterion.priority === 'high' ? 'bg-orange-500/20 text-orange-400' :
                                                                criterion.priority === 'medium' ? 'bg-yellow-500/20 text-yellow-400' :
                                                                'bg-green-500/20 text-green-400'
                                                            }`}>
                                                                {criterion.priority}
                                                            </span>
                                                            <button
                                                                onClick={() => removeAuditorCriterion(criterion.id)}
                                                                className="text-red-400 hover:text-red-300 text-sm"
                                                            >
                                                                ‚úï
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <p className="text-sm text-gray-300">{criterion.description}</p>
                                                    <p className="text-xs text-gray-500 mt-2">Added: {criterion.dateAdded}</p>
                                                </div>
                                            ))}
                                        </div>
                                    </div>
                                ) : (
                                    <div className="text-center py-8 text-gray-400">
                                        <div className="text-4xl mb-4">üë®‚Äçüíº</div>
                                        <p>No custom audit criteria added yet</p>
                                        <p className="text-sm">Add criteria above to enhance AI analysis with Uzbekistan standards</p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* Download Section */}
                        {analysisResults.length > 0 && (
                            <div className="mb-8 bg-gradient-to-r from-purple-500/10 to-blue-500/10 border border-purple-500/30 rounded-xl p-6 animate-slide-up">
                                <h3 className="text-2xl font-semibold mb-4 text-purple-400 flex items-center gap-2">
                                    üì• Download Analysis Reports
                                    <span className="text-sm bg-purple-500/20 px-2 py-1 rounded">{analysisResults.length} Ready</span>
                                </h3>
                                <p className="text-gray-300 mb-4">Your AI audit analysis reports are ready for download. Each report includes detailed findings, compliance status, and recommendations.</p>

                                <div className="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
                                    {analysisResults.slice(0, 6).map(analysis => (
                                        <div key={analysis.id} className="bg-slate-800/50 p-4 rounded-lg border border-slate-600 hover:border-purple-500 transition-colors">
                                            <div className="flex items-start justify-between mb-2">
                                                <div className="flex-1">
                                                    <h4 className="font-semibold text-sm truncate">{analysis.documentName}</h4>
                                                    <p className="text-xs text-gray-400">{analysis.analysisType}</p>
                                                </div>
                                                <div className={`text-lg font-bold ${
                                                    analysis.score >= 90 ? 'text-green-400' :
                                                    analysis.score >= 80 ? 'text-yellow-400' : 'text-red-400'
                                                }`}>{analysis.score}%</div>
                                            </div>
                                            <button
                                                onClick={() => downloadAnalysisReport(analysis)}
                                                className="w-full bg-purple-500 hover:bg-purple-600 px-3 py-2 rounded text-sm font-semibold transition-colors flex items-center justify-center gap-2"
                                            >
                                                üì• Download Report
                                            </button>
                                        </div>
                                    ))}
                                </div>

                                {analysisResults.length > 6 && (
                                    <div className="text-center mt-4">
                                        <p className="text-sm text-gray-400">And {analysisResults.length - 6} more reports available for download</p>
                                    </div>
                                )}
                            </div>
                        )}

                        {/* File Upload Results */}
                        <div className="grid lg:grid-cols-2 gap-8">
                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700">
                                <h3 className="text-2xl font-semibold mb-4">Uploaded Documents</h3>
                                <div className="space-y-4">
                                    {uploadedDocuments.length === 0 ? (
                                        <div className="text-center py-8 text-gray-400">
                                            <div className="text-4xl mb-4">üìÑ</div>
                                            <p>No documents uploaded yet</p>
                                            <p className="text-sm">Upload financial documents to get AI analysis</p>
                                        </div>
                                    ) : (
                                        uploadedDocuments.map(doc => (
                                            <div key={doc.id} className="bg-slate-700/50 p-4 rounded-lg border border-slate-600">
                                                <div className="flex justify-between items-start mb-2">
                                                    <div>
                                                        <h4 className="font-semibold">{doc.name}</h4>
                                                        <p className="text-sm text-gray-400">{doc.type} ‚Ä¢ {doc.size}</p>
                                                    </div>
                                                    <span className={`text-xs px-2 py-1 rounded ${
                                                        doc.status === 'Uploading...' ? 'bg-blue-500/20 text-blue-400' :
                                                        doc.status === 'Analyzing...' ? 'bg-yellow-500/20 text-yellow-400' :
                                                        doc.status === 'Analyzed' ? 'bg-green-500/20 text-green-400' :
                                                        'bg-gray-500/20 text-gray-400'
                                                    }`}>
                                                        {doc.status}
                                                    </span>
                                                </div>
                                                {(doc.status === 'Analyzed' || doc.status === 'Enhanced Analysis Complete') && (
                                                    <div className="flex gap-2 mt-2 flex-wrap">
                                                        <button
                                                            onClick={() => {
                                                                const analysis = analysisResults.find(a => a.documentName === doc.name);
                                                                if (analysis) viewAnalysis(analysis);
                                                            }}
                                                            className="bg-emerald-500 hover:bg-emerald-600 px-3 py-1 rounded text-xs"
                                                        >
                                                            View Analysis
                                                        </button>
                                                        <button
                                                            onClick={() => {
                                                                const analysis = analysisResults.find(a => a.documentName === doc.name);
                                                                if (analysis) viewFullAnalysis(analysis);
                                                            }}
                                                            className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded text-xs"
                                                        >
                                                            View Full Analysis
                                                        </button>
                                                        <button
                                                            onClick={() => {
                                                                const analysis = analysisResults.find(a => a.documentName === doc.name);
                                                                if (analysis) downloadAnalysisReport(analysis);
                                                            }}
                                                            className="bg-purple-500 hover:bg-purple-600 px-3 py-1 rounded text-xs flex items-center gap-1"
                                                        >
                                                            üì• Download Report
                                                        </button>
                                                    </div>
                                                )}
                                            </div>
                                        ))
                                    )}
                                </div>
                            </div>

                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700">
                                <h3 className="text-2xl font-semibold mb-4">Recent Analysis Results</h3>
                                <div className="space-y-4">
                                    {analysisResults.length === 0 ? (
                                        <div className="text-center py-8 text-gray-400">
                                            <div className="text-4xl mb-4">üìä</div>
                                            <p>No analysis results yet</p>
                                            <p className="text-sm">Upload documents to see AI analysis</p>
                                        </div>
                                    ) : (
                                        analysisResults.slice(0, 3).map(analysis => (
                                            <div key={analysis.id} className="bg-slate-700/50 p-4 rounded-lg border border-slate-600 cursor-pointer hover:border-emerald-500" onClick={() => viewAnalysis(analysis)}>
                                                <div className="flex justify-between items-start mb-3">
                                                    <div>
                                                        <h4 className="font-semibold">{analysis.documentName}</h4>
                                                        <p className="text-sm text-gray-400">{analysis.analysisType}</p>
                                                    </div>
                                                    <div className="text-right">
                                                        <div className={`text-2xl font-bold ${
                                                            analysis.score >= 90 ? 'text-green-400' :
                                                            analysis.score >= 80 ? 'text-yellow-400' : 'text-red-400'
                                                        }`}>{analysis.score}%</div>
                                                        <div className="text-xs text-gray-400">Compliance Score</div>
                                                    </div>
                                                </div>
                                                <div className="mb-3">
                                                    <div className="text-sm text-gray-400 mb-1">Key Findings:</div>
                                                    {analysis.findings.slice(0, 2).map((finding, index) => (
                                                        <div key={index} className={`text-xs mb-1 ${
                                                            finding.type === 'success' ? 'text-green-400' :
                                                            finding.type === 'warning' ? 'text-yellow-400' : 'text-red-400'
                                                        }`}>
                                                            {finding.type === 'success' ? '‚úÖ' : finding.type === 'warning' ? '‚ö†Ô∏è' : '‚ùå'} {finding.message}
                                                        </div>
                                                    ))}
                                                </div>
                                                <div className="flex gap-2 flex-wrap">
                                                    <button
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            viewAnalysis(analysis);
                                                        }}
                                                        className="bg-emerald-500 hover:bg-emerald-600 px-3 py-1 rounded text-xs"
                                                    >
                                                        View Analysis
                                                    </button>
                                                    <button
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            viewFullAnalysis(analysis);
                                                        }}
                                                        className="bg-blue-500 hover:bg-blue-600 px-3 py-1 rounded text-xs"
                                                    >
                                                        View Full Analysis
                                                    </button>
                                                    <button
                                                        onClick={(e) => {
                                                            e.stopPropagation();
                                                            downloadAnalysisReport(analysis);
                                                        }}
                                                        className="bg-purple-500 hover:bg-purple-600 px-3 py-1 rounded text-xs flex items-center gap-1"
                                                    >
                                                        üì• Download
                                                    </button>
                                                </div>
                                            </div>
                                        ))
                                    )}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Detailed Analysis View
        if (currentView === 'detailedAnalysis' && selectedAnalysis) {
            return (
                <div className="min-h-screen gradient-bg text-white">
                    <NotificationSystem />

                    <header className="container mx-auto px-6 py-4 border-b border-slate-700">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('landing')}>
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0">
                                    <defs>
                                        <linearGradient id="logoGradient3" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradient3)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl font-bold text-emerald-400">ComplyAI</div>
                            </div>
                            <button onClick={() => setCurrentView('analysis')} className="px-4 py-2 rounded hover:bg-slate-700">‚Üê Back to Analysis</button>
                        </nav>
                    </header>

                    <div className="container mx-auto px-6 py-8">
                        <div className="max-w-4xl mx-auto">
                            <h1 className="text-3xl font-bold mb-2">{selectedAnalysis.documentName}</h1>
                            <p className="text-gray-400 mb-8">{selectedAnalysis.analysisType} ‚Ä¢ {selectedAnalysis.lastUpdated}</p>

                            <div className="grid md:grid-cols-3 gap-6 mb-8">
                                <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 text-center">
                                    <div className={`text-3xl font-bold mb-2 ${
                                        selectedAnalysis.score >= 90 ? 'text-green-400' :
                                        selectedAnalysis.score >= 80 ? 'text-yellow-400' : 'text-red-400'
                                    }`}>{selectedAnalysis.score}%</div>
                                    <div className="text-gray-400">Compliance Score</div>
                                </div>
                                <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 text-center">
                                    <div className={`text-3xl font-bold mb-2 ${
                                        selectedAnalysis.riskLevel === 'Low' ? 'text-green-400' :
                                        selectedAnalysis.riskLevel === 'Medium' ? 'text-yellow-400' : 'text-red-400'
                                    }`}>{selectedAnalysis.riskLevel}</div>
                                    <div className="text-gray-400">Risk Level</div>
                                </div>
                                <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 text-center">
                                    <div className="text-3xl font-bold mb-2 text-blue-400">{selectedAnalysis.processingTime}</div>
                                    <div className="text-gray-400">Processing Time</div>
                                </div>
                            </div>

                            <div className="grid md:grid-cols-2 gap-8">
                                <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700">
                                    <h3 className="text-xl font-semibold mb-4">Key Findings</h3>
                                    <div className="space-y-3">
                                        {selectedAnalysis.findings.map((finding, index) => (
                                            <div key={index} className={`p-3 rounded-lg border ${
                                                finding.type === 'success' ? 'bg-green-500/10 border-green-500/30' :
                                                finding.type === 'warning' ? 'bg-yellow-500/10 border-yellow-500/30' :
                                                'bg-red-500/10 border-red-500/30'
                                            }`}>
                                                <div className="flex items-start gap-2">
                                                    <span className="text-lg">
                                                        {finding.type === 'success' ? '‚úÖ' : finding.type === 'warning' ? '‚ö†Ô∏è' : '‚ùå'}
                                                    </span>
                                                    <div>
                                                        <p className={`font-medium ${
                                                            finding.type === 'success' ? 'text-green-400' :
                                                            finding.type === 'warning' ? 'text-yellow-400' : 'text-red-400'
                                                        }`}>{finding.message}</p>
                                                        <p className="text-xs text-gray-400 mt-1">Severity: {finding.severity}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>

                                <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700">
                                    <h3 className="text-xl font-semibold mb-4">Recommendations</h3>
                                    <div className="space-y-3">
                                        {selectedAnalysis.recommendations.map((rec, index) => (
                                            <div key={index} className="p-3 rounded-lg bg-blue-500/10 border border-blue-500/30">
                                                <div className="flex items-start gap-2">
                                                    <span className="text-blue-400">üí°</span>
                                                    <p className="text-gray-300">{rec}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>

                            <div className="mt-8 text-center">
                                <button
                                    onClick={() => viewFullAnalysis(selectedAnalysis)}
                                    className="bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-lg font-semibold mr-4"
                                >
                                    View Full Analysis
                                </button>
                                <button
                                    onClick={() => downloadAnalysisReport(selectedAnalysis)}
                                    className="bg-purple-500 hover:bg-purple-600 px-8 py-3 rounded-lg font-semibold mr-4 flex items-center gap-2 inline-flex"
                                >
                                    üì• Download Report
                                </button>
                                <button
                                    onClick={() => setCurrentView('analysis')}
                                    className="bg-slate-600 hover:bg-slate-700 px-8 py-3 rounded-lg font-semibold"
                                >
                                    Back to Analysis
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Full Analysis View
        if (currentView === 'fullAnalysis' && selectedAnalysis) {
            return (
                <div className="min-h-screen gradient-bg text-white">
                    <NotificationSystem />

                    <header className="container mx-auto px-6 py-4 border-b border-slate-700">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('landing')}>
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0">
                                    <defs>
                                        <linearGradient id="logoGradient4" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradient4)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl font-bold text-emerald-400">ComplyAI</div>
                            </div>
                            <button onClick={() => setCurrentView('detailedAnalysis')} className="px-4 py-2 rounded hover:bg-slate-700">‚Üê Back to Analysis</button>
                        </nav>
                    </header>

                    <div className="container mx-auto px-6 py-8">
                        <div className="max-w-6xl mx-auto">
                            <h1 className="text-3xl font-bold mb-2">Full Analysis Report</h1>
                            <h2 className="text-xl text-emerald-400 mb-2">{selectedAnalysis.documentName}</h2>
                            <p className="text-gray-400 mb-8">{selectedAnalysis.analysisType} ‚Ä¢ Generated on {selectedAnalysis.lastUpdated}</p>

                            {/* Financial Metrics */}
                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 mb-8">
                                <h3 className="text-2xl font-semibold mb-6">üìà Financial Metrics</h3>
                                <div className="grid md:grid-cols-4 gap-6">
                                    <div className="text-center">
                                        <div className={`text-3xl font-bold mb-2 ${
                                            parseFloat(selectedAnalysis.financialMetrics.revenueGrowth) >= 0 ? 'text-green-400' : 'text-red-400'
                                        }`}>
                                            {selectedAnalysis.financialMetrics.revenueGrowth}%
                                        </div>
                                        <div className="text-gray-400">Revenue Growth</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-3xl font-bold mb-2 text-blue-400">{selectedAnalysis.financialMetrics.expenseRatio}%</div>
                                        <div className="text-gray-400">Expense Ratio</div>
                                    </div>
                                    <div className="text-center">
                                        <div className="text-3xl font-bold mb-2 text-purple-400">{selectedAnalysis.financialMetrics.profitMargin}%</div>
                                        <div className="text-gray-400">Profit Margin</div>
                                    </div>
                                    <div className="text-center">
                                        <div className={`text-3xl font-bold mb-2 ${
                                            selectedAnalysis.financialMetrics.cashFlow === 'Positive' ? 'text-green-400' : 'text-red-400'
                                        }`}>
                                            {selectedAnalysis.financialMetrics.cashFlow}
                                        </div>
                                        <div className="text-gray-400">Cash Flow</div>
                                    </div>
                                </div>
                            </div>

                            {/* Compliance Issues */}
                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 mb-8">
                                <h3 className="text-2xl font-semibold mb-6">‚öñÔ∏è Compliance Status</h3>
                                <div className="space-y-4">
                                    {selectedAnalysis.complianceIssues.map((issue, index) => (
                                        <div key={index} className="p-4 rounded-lg bg-slate-700/50 border border-slate-600">
                                            <p className="text-gray-300">{issue}</p>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* All Findings */}
                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 mb-8">
                                <h3 className="text-2xl font-semibold mb-6">üîç Detailed Findings</h3>
                                <div className="space-y-4">
                                    {selectedAnalysis.findings.map((finding, index) => (
                                        <div key={index} className={`p-4 rounded-lg border ${
                                            finding.type === 'success' ? 'bg-green-500/10 border-green-500/30' :
                                            finding.type === 'warning' ? 'bg-yellow-500/10 border-yellow-500/30' :
                                            'bg-red-500/10 border-red-500/30'
                                        }`}>
                                            <div className="flex items-start gap-3">
                                                <span className="text-2xl">
                                                    {finding.type === 'success' ? '‚úÖ' : finding.type === 'warning' ? '‚ö†Ô∏è' : '‚ùå'}
                                                </span>
                                                <div className="flex-1">
                                                    <p className={`font-medium text-lg mb-2 ${
                                                        finding.type === 'success' ? 'text-green-400' :
                                                        finding.type === 'warning' ? 'text-yellow-400' : 'text-red-400'
                                                    }`}>{finding.message}</p>
                                                    <p className="text-gray-400">Severity Level: <span className="capitalize">{finding.severity}</span></p>
                                                    <p className="text-sm text-gray-500 mt-2">
                                                        This finding indicates {finding.type === 'success' ? 'compliance with' : finding.type === 'warning' ? 'potential issues with' : 'violations of'}
                                                        {' '}financial reporting standards and IT Park requirements.
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            {/* All Recommendations */}
                            <div className="bg-slate-800/50 p-6 rounded-xl border border-slate-700 mb-8">
                                <h3 className="text-2xl font-semibold mb-6">üí° Action Recommendations</h3>
                                <div className="space-y-4">
                                    {selectedAnalysis.recommendations.map((rec, index) => (
                                        <div key={index} className="p-4 rounded-lg bg-blue-500/10 border border-blue-500/30">
                                            <div className="flex items-start gap-3">
                                                <span className="text-2xl text-blue-400">üí°</span>
                                                <div className="flex-1">
                                                    <p className="text-gray-300 text-lg">{rec}</p>
                                                    <p className="text-sm text-gray-500 mt-2">
                                                        Priority: <span className="text-blue-400">High</span> ‚Ä¢
                                                        Expected Impact: <span className="text-green-400">Positive</span>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>

                            <div className="text-center">
                                <button
                                    onClick={() => setCurrentView('analysis')}
                                    className="bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-lg font-semibold mr-4"
                                >
                                    Back to Analysis Dashboard
                                </button>
                                <button
                                    onClick={() => downloadAnalysisReport(selectedAnalysis)}
                                    className="bg-purple-500 hover:bg-purple-600 px-8 py-3 rounded-lg font-semibold flex items-center gap-2 inline-flex"
                                >
                                    üì• Download Full Report
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Business Trip Reports Page
        if (currentView === 'trips') {
            return (
                <div className="min-h-screen gradient-bg text-white">
                    <NotificationSystem />

                    <header className="container mx-auto px-6 py-4 border-b border-slate-700">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('landing')}>
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0">
                                    <defs>
                                        <linearGradient id="logoGradient5" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradient5)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl font-bold text-emerald-400">ComplyAI</div>
                            </div>
                            <button onClick={() => setCurrentView('landing')} className="px-4 py-2 rounded hover:bg-slate-700">‚Üê Back to Home</button>
                        </nav>
                    </header>

                    <div className="container mx-auto px-6 py-8">
                        <h1 className="text-4xl font-bold mb-8 text-center">‚úàÔ∏è {t.businessTrips}</h1>

                        <div className="text-center mb-12">
                            <p className="text-xl text-gray-300 mb-8">Simple 3-step process for IT Park business trip reporting</p>
                        </div>

                        {/* Clean 3-Step Workflow */}
                        <div className="grid md:grid-cols-3 gap-8 max-w-5xl mx-auto mb-12">
                            {/* Step 1: Download Form */}
                            <div className="bg-slate-800/50 p-8 rounded-xl border border-slate-700 text-center">
                                <div className="text-5xl mb-6">üìÑ</div>
                                <h3 className="text-2xl font-semibold mb-4 text-emerald-400">1. Download Form</h3>
                                <p className="text-gray-300 mb-6">Get the official IT Park business trip form template provided by our company</p>
                                <button
                                    onClick={downloadOfficialForm}
                                    className="bg-emerald-500 hover:bg-emerald-600 px-6 py-3 rounded-lg font-semibold w-full"
                                >
                                    üìÑ Download Official Form
                                </button>
                            </div>

                            {/* Step 2: Fill Form */}
                            <div className="bg-slate-800/50 p-8 rounded-xl border border-slate-700 text-center">
                                <div className="text-5xl mb-6">‚úèÔ∏è</div>
                                <h3 className="text-2xl font-semibold mb-4 text-blue-400">2. Fill Form</h3>
                                <p className="text-gray-300 mb-6">Complete the form with your trip expenses and details according to money you spend</p>
                                <div className="bg-blue-500/20 px-4 py-3 rounded-lg text-blue-400 font-medium">
                                    Fill offline with your trip details and expenses
                                </div>
                            </div>

                            {/* Step 3: Upload Form */}
                            <div className="bg-slate-800/50 p-8 rounded-xl border border-slate-700 text-center">
                                <div className="text-5xl mb-6">üì§</div>
                                <h3 className="text-2xl font-semibold mb-4 text-purple-400">3. Upload Form</h3>
                                <p className="text-gray-300 mb-6">Submit your completed form back to IT Park system for processing</p>
                                <input
                                    type="file"
                                    id="tripFormUpload"
                                    multiple
                                    accept=".pdf,.doc,.docx,.xlsx,.xls,.txt"
                                    onChange={(e) => {
                                        const files = Array.from(e.target.files);
                                        files.forEach(file => {
                                            addNotification('success', `Trip report "${file.name}" uploaded successfully and sent to IT Park compliance department`);
                                        });
                                    }}
                                    className="hidden"
                                />
                                <label
                                    htmlFor="tripFormUpload"
                                    className="bg-purple-500 hover:bg-purple-600 px-6 py-3 rounded-lg font-semibold cursor-pointer w-full inline-block"
                                >
                                    üì§ Upload Completed Form
                                </label>
                            </div>
                        </div>

                        {/* Supported Formats */}
                        <div className="bg-slate-800/30 p-6 rounded-xl border border-slate-700 max-w-3xl mx-auto text-center mb-8">
                            <h4 className="text-lg font-semibold mb-4 text-gray-300">üìã Supported File Formats</h4>
                            <div className="flex justify-center gap-4 text-sm text-gray-400 flex-wrap">
                                <span className="bg-slate-700 px-3 py-1 rounded">PDF</span>
                                <span className="bg-slate-700 px-3 py-1 rounded">Excel (.xlsx, .xls)</span>
                                <span className="bg-slate-700 px-3 py-1 rounded">Word (.doc, .docx)</span>
                                <span className="bg-slate-700 px-3 py-1 rounded">Text (.txt)</span>
                            </div>
                            <p className="text-xs text-gray-500 mt-4">Files are sent directly to IT Park compliance department for review and approval</p>
                        </div>

                        {/* IT Park Information */}
                        <div className="bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-6 max-w-3xl mx-auto text-center">
                            <div className="text-3xl mb-4">üè¢</div>
                            <h3 className="text-xl font-semibold mb-2 text-emerald-400">IT Park Internal System</h3>
                            <p className="text-gray-300 mb-4">
                                This system works within IT Park and its branches. All submitted forms are automatically
                                processed by the IT Park compliance department.
                            </p>
                            <div className="grid md:grid-cols-2 gap-4 text-sm text-gray-400">
                                <div className="bg-slate-800/50 p-3 rounded">
                                    <strong className="text-emerald-400">Processing Time:</strong> 2-3 business days
                                </div>
                                <div className="bg-slate-800/50 p-3 rounded">
                                    <strong className="text-emerald-400">Approval Status:</strong> Email notification sent
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        // Dashboard View for Demo
        if (currentView === 'dashboard') {
            return (
                <div className="min-h-screen gradient-bg text-white">
                    <NotificationSystem />

                    <header className="container mx-auto px-6 py-4 border-b border-slate-700">
                        <nav className="flex justify-between items-center">
                            <div className="flex items-center gap-3 cursor-pointer" onClick={() => setCurrentView('landing')}>
                                <svg width="32" height="32" viewBox="0 0 100 100" className="flex-shrink-0">
                                    <defs>
                                        <linearGradient id="logoGradientDash" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" stopColor="#10b981" />
                                            <stop offset="100%" stopColor="#059669" />
                                        </linearGradient>
                                    </defs>
                                    <path d="M20 15 C30 10, 45 12, 55 20 C65 28, 75 40, 80 55 C82 62, 80 68, 75 72 C70 76, 62 78, 55 78 L50 78 C42 78, 35 76, 30 72 L25 68 C18 62, 15 55, 14 48 C13 41, 15 34, 20 28 Z" fill="url(#logoGradientDash)" />
                                    <path d="M25 48 L35 58 L65 28" stroke="white" strokeWidth="4" fill="none" strokeLinecap="round" strokeLinejoin="round" />
                                    <circle cx="75" cy="25" r="2" fill="#10b981" opacity="0.7" />
                                    <circle cx="80" cy="75" r="1.5" fill="#10b981" opacity="0.5" />
                                </svg>
                                <div className="text-xl font-bold text-emerald-400">ComplyAI</div>
                            </div>
                            <button onClick={() => setCurrentView('landing')} className="px-4 py-2 rounded hover:bg-slate-700">‚Üê Back to Home</button>
                        </nav>
                    </header>

                    <div className="container mx-auto px-6 py-8">
                        <div className="text-center mb-12 animate-slide-up">
                            <h1 className="text-4xl font-bold mb-4">üéØ Welcome to ComplyAI Dashboard</h1>
                            <p className="text-xl text-gray-300">Choose your service to get started</p>
                        </div>

                        {/* Dashboard Stats */}
                        <div className="grid grid-cols-2 lg:grid-cols-4 gap-6 mb-12">
                            <div className="bg-slate-800/30 p-6 rounded-xl border border-slate-700 text-center animate-bounce-in">
                                <div className="text-3xl font-bold text-emerald-400">{analysisResults.length}</div>
                                <div className="text-gray-300 text-sm">AI Analysis Reports</div>
                            </div>
                            <div className="bg-slate-800/30 p-6 rounded-xl border border-slate-700 text-center animate-bounce-in" style={{animationDelay: '0.1s'}}>
                                <div className="text-3xl font-bold text-emerald-400">{uploadedDocuments.length}</div>
                                <div className="text-gray-300 text-sm">Documents Analyzed</div>
                            </div>
                            <div className="bg-slate-800/30 p-6 rounded-xl border border-slate-700 text-center animate-bounce-in" style={{animationDelay: '0.2s'}}>
                                <div className="text-3xl font-bold text-blue-400">3</div>
                                <div className="text-gray-300 text-sm">Available Languages</div>
                            </div>
                            <div className="bg-slate-800/30 p-6 rounded-xl border border-slate-700 text-center animate-bounce-in" style={{animationDelay: '0.3s'}}>
                                <div className="text-3xl font-bold text-yellow-400">24/7</div>
                                <div className="text-gray-300 text-sm">System Availability</div>
                            </div>
                        </div>

                        {/* Main Services */}
                        <div className="grid lg:grid-cols-2 gap-12 max-w-4xl mx-auto">
                            <div
                                onClick={() => setCurrentView('analysis')}
                                className="bg-slate-800/50 p-12 rounded-xl border border-slate-700 hover:border-emerald-500 transition-all duration-300 cursor-pointer transform hover:scale-105 animate-slide-up"
                            >
                                <div className="text-6xl mb-6 text-center animate-float">üìä</div>
                                <h3 className="text-2xl font-semibold mb-4 text-emerald-400 text-center">{t.financialAnalysis}</h3>
                                <p className="text-gray-300 mb-6 text-center">{t.financialAnalysisDesc}</p>
                                <div className="text-center">
                                    <button className="bg-emerald-500 hover:bg-emerald-600 px-8 py-3 rounded-lg font-semibold">
                                        Upload Documents
                                    </button>
                                </div>
                            </div>

                            <div
                                onClick={() => setCurrentView('trips')}
                                className="bg-slate-800/50 p-12 rounded-xl border border-slate-700 hover:border-blue-500 transition-all duration-300 cursor-pointer transform hover:scale-105 animate-slide-up"
                                style={{animationDelay: '0.2s'}}
                            >
                                <div className="text-6xl mb-6 text-center animate-float" style={{animationDelay: '2s'}}>‚úàÔ∏è</div>
                                <h3 className="text-2xl font-semibold mb-4 text-blue-400 text-center">{t.businessTrips}</h3>
                                <p className="text-gray-300 mb-6 text-center">{t.businessTripsDesc}</p>
                                <div className="text-center">
                                    <button className="bg-blue-500 hover:bg-blue-600 px-8 py-3 rounded-lg font-semibold">
                                        Create Report
                                    </button>
                                </div>
                            </div>
                        </div>

                        {/* Demo Info */}
                        <div className="mt-12 text-center animate-slide-up" style={{animationDelay: '0.4s'}}>
                            <div className="bg-blue-500/10 border border-blue-500/30 rounded-xl p-6 max-w-2xl mx-auto">
                                <div className="text-3xl mb-4">üé¨</div>
                                <h3 className="text-xl font-semibold mb-2 text-blue-400">Demo Mode Active</h3>
                                <p className="text-gray-300">
                                    You're currently in demo mode. Click on any service above to explore ComplyAI's features.
                                    All data shown is for demonstration purposes.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }

        return <div>Loading...</div>;
    };

        ReactDOM.render(<ComplyAI />, document.getElementById('root'));
    </script>
</body>
</html>
